<!-- Order summary: always render a Taxes row (0 if none) -->
<cart-summary-fees>
  <div class="snipcart-summary-fees">
    <!-- Subtotal -->
    <div class="snipcart-summary-fees__item snipcart__font--slim" v-if="subtotal">
      <span class="snipcart-summary-fees__title"> {{ $localize('cart_summary.subtotal') }} </span>
      <span class="snipcart-summary-fees__amount">{{ subtotal | money(cart.currency) }}</span>
    </div>

    <!-- Shipping -->
    <div class="snipcart-summary-fees__item snipcart__font--slim" v-if="shipping.cost != null">
      <span class="snipcart-summary-fees__title"> {{ $localize('cart_summary.shipping') }} </span>
      <span class="snipcart-summary-fees__amount">{{ shipping.cost | money(cart.currency) }}</span>
    </div>

    <!-- Taxes present -> list them -->
    <template v-if="taxes && taxes.length">
      <div
        class="snipcart-summary-fees__item snipcart__font--slim"
        v-for="tax in taxes"
        :key="tax.name"
      >
        <!-- The label below will be post-processed by our tax-label JS to IVA/VAT -->
        <span class="snipcart-summary-fees__title"> {{ tax.name || 'Taxes' }} </span>
        <span class="snipcart-summary-fees__amount">{{ tax.amount | money(cart.currency) }}</span>
      </div>
    </template>

    <!-- No taxes -> still show a 0 row -->
    <template v-else>
      <div class="snipcart-summary-fees__item snipcart__font--slim">
        <!-- Start as "Taxes"; our JS will rename to IVA/VAT based on country -->
        <span class="snipcart-summary-fees__title">Taxes</span>
        <span class="snipcart-summary-fees__amount">{{ 0 | money(cart.currency) }}</span>
      </div>
    </template>

    <!-- Total -->
    <div
      class="snipcart-summary-fees__item snipcart-summary-fees__total snipcart__font--bold snipcart__font--secondary"
    >
      <span
        class="snipcart-summary-fees__title snipcart-summary-fees__title--highlight snipcart__font--large"
      >
        {{ $localize('cart_summary.total') }}
      </span>
      <span
        class="snipcart-summary-fees__amount snipcart-summary-fees__amount--highlight snipcart__font--large"
      >
        {{ total | money(cart.currency) }}
      </span>
    </div>
  </div>
</cart-summary-fees>
