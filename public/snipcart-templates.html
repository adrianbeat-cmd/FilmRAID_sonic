<div id="snipcart-templates">
  <!-- Billing: Company + EU VAT Number together -->
  <billing section="bottom">
    <fieldset class="snipcart-form__set">
      <!-- Company (optional) — writes into billing address -->
      <div class="snipcart-form__field">
        <snipcart-label class="snipcart__font--tiny" for="company"
          >Company (optional)</snipcart-label
        >
        <snipcart-input
          id="company"
          name="company"
          autocomplete="organization"
          placeholder="Your company"
        ></snipcart-input>
      </div>

      <!-- EU VAT — saved to order.customFields.vatNumber -->
      <snipcart-field name="vatNumber">
        <snipcart-label class="snipcart__font--tiny" for="vatNumber"
          >EU VAT Number (optional)</snipcart-label
        >
        <snipcart-input
          id="vatNumber"
          name="vatNumber"
          placeholder="e.g. ESB10680478"
          pattern="^[A-Z]{2}[A-Za-z0-9]{8,14}$"
          style="padding-left: 0.75rem"
        ></snipcart-input>
        <snipcart-field-error name="vatNumber"></snipcart-field-error>
        <small
          id="vat-message"
          class="snipcart__font--tiny"
          style="display: block; margin-top: 0.25rem"
        ></small>
      </snipcart-field>
    </fieldset>
  </billing>

  <!-- Address fields override: plain street input (no autocomplete),
       keep country/province as dropdowns to prevent schema warnings -->
  <address-fields>
    <div>
      <fieldset class="snipcart-form__set">
        <div class="snipcart-form__row">
          <!-- Street address (plain input, no provider/typeahead) -->
          <div class="snipcart-form__field snipcart-form__cell--large">
            <snipcart-label class="snipcart__font--tiny" for="address1">
              {{ $localize('address_form.address1') }}
            </snipcart-label>
            <snipcart-input name="address1" placeholder="Street address"></snipcart-input>
            <snipcart-error-message name="address1"></snipcart-error-message>
          </div>

          <div class="snipcart-form__field snipcart-form__cell--tidy">
            <snipcart-label class="snipcart__font--tiny" for="address2">
              {{ $localize('address_form.address2') }}
            </snipcart-label>
            <snipcart-input name="address2"></snipcart-input>
            <snipcart-error-message name="address2"></snipcart-error-message>
          </div>
        </div>

        <div class="snipcart-form__field">
          <snipcart-label class="snipcart__font--tiny" for="city">
            {{ $localize('address_form.city') }}
          </snipcart-label>
          <snipcart-input name="city"></snipcart-input>
          <snipcart-error-message name="city"></snipcart-error-message>
        </div>

        <!-- Keep as dropdowns -->
        <div class="snipcart-form__field">
          <snipcart-label class="snipcart__font--tiny" for="country">
            {{ $localize('address_form.country') }}
          </snipcart-label>
          <snipcart-typeahead
            type="dropdown"
            name="country"
            autocomplete="country"
          ></snipcart-typeahead>
        </div>

        <div class="snipcart-form__row">
          <div class="snipcart-form__field snipcart-form__cell--large">
            <snipcart-label class="snipcart__font--tiny" for="province">
              {{ $localize('address_form.province') }}
            </snipcart-label>
            <snipcart-typeahead
              type="dropdown"
              name="province"
              autocomplete="province state"
            ></snipcart-typeahead>
          </div>

          <div class="snipcart-form__field snipcart-form__cell--tidy">
            <snipcart-label class="snipcart__font--tiny" for="postalCode">
              {{ $localize('address_form.postalCode') }}
            </snipcart-label>
            <snipcart-input name="postalCode"></snipcart-input>
            <snipcart-error-message name="postalCode"></snipcart-error-message>
          </div>
        </div>
      </fieldset>
    </div>
  </address-fields>
</div>
