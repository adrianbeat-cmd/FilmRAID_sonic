@import 'tailwindcss';
@plugin "tailwindcss-animate";
@plugin '@tailwindcss/typography';
@custom-variant dark (&:is(.dark *));

:root {
  --base-dark: hsl(0, 0%, 0%);
  --footer-background: hsl(214, 12%, 12%);
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(0, 0%, 14.5%);
  --card: hsl(0, 0%, 98%);
  --card-foreground: hsl(0, 0%, 14.5%);
  --popover: hsl(0, 0%, 98%);
  --popover-foreground: hsl(0, 0%, 14.5%);
  --primary: hsl(240, 3%, 15%);
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(0, 0%, 100%);
  --secondary-foreground: hsl(0, 0%, 14.5%);
  --muted: hsl(0, 0%, 97%);
  --muted-foreground: hsl(0, 0%, 34%);
  --accent: hsl(0, 0%, 97%);
  --accent-foreground: hsl(240, 3%, 15%);
  --destructive: hsl(0, 75%, 58%);
  --destructive-foreground: hsl(0, 0%, 14.5%);
  --border: hsl(220, 9%, 93%);
  --input: hsl(210, 2%, 77%);
  --ring: hsl(0, 0%, 70.8%);
}

.dark {
  --base-dark: hsl(0, 0%, 100%);
  --footer-background: hsl(214, 12%, 88%);
  --background: hsl(0, 0%, 14.5%);
  --foreground: hsl(0, 0%, 98%);
  --card: hsl(0, 0%, 16.5%);
  --card-foreground: hsl(0, 0%, 98%);
  --popover: hsl(0, 0%, 16.5%);
  --popover-foreground: hsl(0, 0%, 98%);
  --primary: hsl(0, 0%, 98.5%);
  --primary-foreground: hsl(240, 3%, 15%);
  --secondary: hsl(0, 0%, 16.5%);
  --secondary-foreground: hsl(0, 0%, 98%);
  --muted: hsl(0, 0%, 16.5%);
  --muted-foreground: hsl(0, 0%, 85%);
  --accent: hsl(0, 0%, 16.5%);
  --accent-foreground: hsl(0, 0%, 98%);
  --destructive: hsl(0, 75%, 58%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --border: hsl(220, 9%, 20%);
  --input: hsl(210, 2%, 28%);
  --ring: hsl(0, 0%, 30%);
}

@theme inline {
  --radius: 0.625rem;
  --font-sans: var(--font-sf-pro-display);
  --color-footer-background: var(--footer-background);
  --color-base-dark: var(--base-dark);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --text-3xl: 1.75rem;
  --text-5xl: 2.75rem;
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground font-sans;
    margin: 0 !important;
    padding: 0 !important;
  }
  html {
    @apply overflow-x-hidden scroll-smooth;
  }
}

@layer utilities {
  .hero-padding {
    @apply pt-15 pb-20 md:pt-18 lg:pt-22.5;
  }
  .section-padding {
    @apply py-10 md:py-16 lg:py-20;
  }
  .hero-padding-margin {
    @apply mb-15 pt-15 pb-20 md:mb-16 md:pt-18 lg:mb-20 lg:pt-22.5;
  }
  .dropdown-container {
    padding: 0 !important;
  }
}

@utility container {
  margin-inline: auto;
  padding-inline: 1rem;
  @media (width >= --theme(--breakpoint-sm)) {
    max-width: none;
  }
  @media (width >= 1000px) {
    max-width: 1232px;
  }
  &.dropdown-container {
    padding: 0 !important;
  }
}

/* Toggle Theme View Transitions */
@keyframes theme-mask {
  0% {
    clip-path: circle(0% at var(--x, 50%) var(--y, 50%));
  }
  100% {
    clip-path: circle(150% at var(--x, 50%) var(--y, 50%));
  }
}
html.theme-transition::view-transition-old(root),
html.theme-transition::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}
html.theme-transition::view-transition-old(root) {
  z-index: 1;
}
html.theme-transition::view-transition-new(root) {
  z-index: 2;
  animation: theme-mask 0.5s ease-in forwards;
}

/* Page Navigation View Transitions */
@keyframes page-overlay-in {
  0% {
    transform: translateX(100%);
    opacity: 0.2;
  }
  100% {
    transform: translateX(-100%);
    opacity: 0;
  }
}
@keyframes page-blur-in {
  0% {
    filter: blur(6px);
    opacity: 0;
  }
  50% {
    filter: blur(3px);
    opacity: 1;
  }
  100% {
    filter: blur(0);
    opacity: 1;
  }
}
@keyframes page-blur-out {
  0% {
    filter: blur(0);
    opacity: 1;
  }
  50% {
    filter: blur(4.5px);
    opacity: 0.6;
  }
  100% {
    filter: blur(9px);
    opacity: 0;
  }
}
html.page-transition::view-transition-old(root) {
  animation: page-blur-out 0.4s ease-out forwards;
}
html.page-transition::view-transition-new(root) {
  animation: page-blur-in 0.5s ease-out forwards;
}

/* Create a transition overlay element */
html.page-transition:after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, transparent, var(--primary) 50%, transparent);
  opacity: 0.2;
  z-index: 100;
  pointer-events: none;
  will-change: transform, opacity;
  animation-name: page-overlay-in;
  animation-duration: 0.5s;
  animation-timing-function: ease-in;
  animation-fill-mode: both;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  ::before,
  ::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  .motion-safe-only {
    display: none !important;
  }
}

/* ---------- Snipcart Customization ---------- */
#snipcart {
  font-family: var(--font-sf-pro-display);
  --snipcart-font-size: 1rem;
  --snipcart-font-size-small: 0.875rem;
  --snipcart-border-radius: var(--radius);
  z-index: 10000 !important;
}

#snipcart-header {
  background-color: var(--primary);
  color: var(--primary-foreground);
  padding: 1.5rem;
  font-size: 1.25rem;
  font-weight: 500;
}

#snipcart-content {
  background-color: #ffffff;
  color: #1a1a1a;
  padding: 1rem;
}

#snipcart-footer {
  background-color: var(--muted);
  color: var(--muted-foreground);
  padding: 1rem;
}

#snipcart .snipcart-cart-button {
  background-color: var(--primary);
  color: var(--primary-foreground);
  border-radius: var(--radius);
  padding: 0.75rem 1.5rem;
  font-weight: 500;
  transition: background-color 0.2s ease;
}
#snipcart .snipcart-cart-button:hover {
  background-color: hsl(240, 3%, 10%);
}

#snipcart .snipcart-item-line {
  border-bottom: 1px solid var(--border);
  padding: 1rem 0;
  margin: 0;
}
#snipcart .snipcart-item-line__title {
  font-size: 1.125rem;
  font-weight: 500;
  color: #1a1a1a;
}

#snipcart .snipcart-cart__content {
  max-width: 600px;
  margin: 0 auto;
}
#snipcart .snipcart-amount {
  color: #1a1a1a;
  font-weight: 600;
}
#snipcart .snipcart-cart__title {
  color: #1a1a1a;
  font-size: 1.5rem;
  font-weight: 600;
}

#snipcart .snipcart-form__field {
  margin-bottom: 1rem;
}
#snipcart .snipcart-form__label {
  color: #1a1a1a;
  font-weight: 500;
  margin-bottom: 0.5rem;
  display: block;
}
#snipcart .snipcart-form__input,
#snipcart .snipcart-form__select {
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 0.75rem;
  width: 100%;
  background-color: #ffffff;
  color: #1a1a1a;
}
#snipcart .snipcart-form__input:focus,
#snipcart .snipcart-form__select:focus {
  border-color: var(--ring);
  outline: none;
}

/* Close button */
#snipcart .snipcart-cart-header {
  position: relative;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
#snipcart .snipcart-cart-header__close {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0.5rem;
  color: var(--primary-foreground);
}
#snipcart .snipcart-cart-header__close:hover {
  color: hsl(240, 3%, 10%);
}

/* Hide navbar when modal open */
html.snipcart-modal-open header {
  display: none !important;
}

/* Overlay cover */
html.snipcart-modal-open .snipcart-overlay {
  z-index: 9998 !important;
  background-color: rgba(0, 0, 0, 0.5) !important;
}
.snipcart-modal__container {
  z-index: 9999 !important;
}

/* Product custom field width */
#snipcart .snipcart-item-line__customfields,
#snipcart .snipcart-form__field--custom {
  width: 100%;
}

/* Stack actions on item line */
#snipcart .snipcart-item-line__actions {
  flex-direction: column !important;
  align-items: flex-start !important;
}

/* Select width inside item custom fields */
#snipcart .snipcart-item-line__customfields .snipcart-form__field--select .snipcart-form__select {
  width: 100% !important;
  min-width: 100% !important;
  box-sizing: border-box;
}

/* Normalize select caret */
#snipcart .snipcart-form__select {
  color: #333 !important;
  background-color: #fff !important;
  padding: 0.75rem 2rem 0.75rem 0.75rem !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  appearance: menulist;
  -webkit-appearance: menulist;
  -moz-appearance: menulist;
}
#snipcart .snipcart-form__select option {
  padding-right: 1.5rem;
}

/* Slightly wider selects on larger screens */
@media (min-width: 768px) {
  #snipcart .snipcart-form__select {
    min-width: 140px !important;
  }
}
@media (min-width: 1024px) {
  #snipcart .snipcart-form__select {
    min-width: 160px !important;
  }
}

/* Remove double caret */
#snipcart .snipcart-form__select {
  background-image: none !important;
  appearance: menulist !important;
  -webkit-appearance: menulist !important;
  -moz-appearance: menulist !important;
  padding-right: 1.5rem !important;
}
